
- Next:
    - Read the book and take notes.
        - Hel-l-bound is hyphenated between the Ls.
            - A bunch of weird hyphenation throughout. Check that we're using the right language.
            - Lots of "could-n't". Feels very wrong.
        - Look for "disabled the Internet connections", in that paragraph there's a
            line that goes far too long, and a hyphen is right there to break nicely.
        - In classic ToC, lines can extend into the page number area.
            - Can we really not have a shape that starts at the end?
        - The "The Tree of Life" diagram is low-res.
        - I removed the haMephorash poem, should I put it back in text form?
            - https://www.jefftk.com/p/hamephorash
- Why are some lines too long?
    - See end of test.md, and see what the penalties are for the various options.
    - Are penalizing too much for being shorter?
    - Is there any way to insert spaces between letters?
        - Or around hyphens.
        - Or in the paragraph indent?
    - Because it looks really ugly to stick out.
- Convert Uriel's text to smallcaps.
    - Did this for unsong-1 but not -2 or -3.
    - Write script to find Uriel's lines, count how many there are.
        % python3 count_uriel.py unsong-1.md | wc -l
        179
        % python3 count_uriel.py unsong-2.md | wc -l
        182
        % python3 count_uriel.py unsong-3.md | wc -l
        252
    - If too many, modify script to update them.
        - It's about 613.
        - Modify script to:
            - Go through file.
            - Skip lines that have XXX
            - Show line and line number.
            - Show proposed fix.
                - If there are quotes, only do what's inside quotes.
                - If there are no quotes and the whole line is caps, do whole line.
                - Otherwise look for sequences of upper case?
                - Surround with [sc][/sc].
                - Convert to lower case.
                - Use upper case at start and after period and for "I".
            - Can accept, skip, mark, or quit.
            - If mark, inserts both and puts XXX next to old line.
            - Save as you go, so can be interrupted anytime.
        - Or:
            * Modify script to generate vim errorfile.
                filename:line:column: message
            * Write macros to insert [sc] or [/sc] and convert to lower case.
            * Just do it by hand.
            * If we only want to print the first part, that's only 180 lines.
    * Also maybe Names of God in chapter 1.
        * Test this.
        * Yeah it's much better.
- Types of blockquotes:
    - Resolve isInBlockQuote() and BLOCK_QUOTE block type.
    - Cases:
        - Top of chapters.
            - Typically some text, followed by a reference.
            - Interlude ז has two of them "Let’s play Twister, let’s play Risk"
        - "H has become a most troublesome letter"
            - Could use poetry.
        - A bunch of blockquotes got converted to [blockquote] when they
            should use the old-style three-space-and-double-quote.
        - File contents: "AARON SMITH-TELLER IS BEING HELD"
        - Children's song "A little goat, a little goat"
            - Could use poetry.
        - Sign: "AS PER THE CALIFORNIA SECURITY"
        - Poetry: "O thou, who burns with tears"
        - Poetry: "Ah Love! could thou and I with"
        - "The north and the south Thou hast" (two more after that)
        - Song: "My country, ’tis of thee,"
        - Song: "The careful text-books measure"
    - Need:
        - Explicit line break?
            - Or just regular poetry mode?
    - Use blockquote tag at top of chapters.
    - Fix embedded blockquotes (signs, etc.).
    - Fix all blockquotes.
- Look for HTML.
    - Mostly in block quotes.
- Make high-res version of tree_of_life2.png image, and figure out
    why it's not centered properly. Too small? Also fix all other
    images.
- Insert various photos and drawings.
    - Can we just drop all these? I don't find that they add a lot and
        they make the book look less professional, and they'd be a ton
        of work.
- Come up with a cover image.
    - For 250 pages:
        - 12.873in x 9.25in
        - At 300 DPI, that's 3862 x 2775 pixels
        - Spine: 0.623in / 15.82mm, or 187 pixels, located at 1931, 1387.5 (center) or 1838,0
    - Ask Aryeh.

Done:

- Handle Hebrew:
    - Regexp for finding Hebrew text: [\u0590-\u05fe]
    - http://www.unicode.org/charts/PDF/U0590.pdf
    - Hebrew text:
        - Every interlude (single character), one has two separated characters.
        - Quote at start of chapter 9 (three words).
            - http://unsongbook.com/chapter-9-with-art-celestial/
- The repeated "Chapter" in the TOC is unpleasant. What do other
    book like Harry Potter do?
    - Options:
        - Skip "Chapter 5: ". Will look the nicest but maybe people refer to chapter
            numbers. Also Interludes might be weird.
        - Just show "5: ". Will look weird.
- Add usage message to main().
- Document how to run typesetter on this.
    - Maybe provide script for doing so.
    - Get runtime classpath from gradle, and run it manually?
- Add subtitle.
- Split into three MD files.
- Explicit blockquote section.
    - Indent on both sides.
    - Smaller font.
    - Blank above and below.
- See what max size of Lulu book is. Maybe split book.
    - Max is 740.
    - Book 1: 1-239 (238)
    - Book 2: 239-579 (340)
    - Book 3: 579-849 (270)
    - Book 4: 849-927 (78)
    - Books 1 and 2: 578
    - Books 3 and 4: 348
    - Most balanced option would be three books (1; 2; 3&4).
    - Index in each book? Will need which book. See Julia Child books.
- Correct spelling of "Wiliam".
- Regenerate javadoc.
- In table of contents handle long chapter names (wrap earlier).
    - "And Ololon Said", book 3.
- Fix long chapter names in page headers.
    - See chapter called "That The Children...", start of book 2.
    - "And Ololon Said", book 3.
- Deal with content warning.
X Table of Contents:
    - (Didn't address this, I think it's fine.)
    - Get rid of the "Book" (part) indent?
    - We'd want it for the third physical book.
    - Maybe display it differently, like a section header.
